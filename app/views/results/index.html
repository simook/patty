<div class="row-fluid">
	<div ng-cloak ng-hide="settings.interval" class="col-md-8 col-md-offset-2">
		<div class="page-header">
	  	<h3>Before we can show you results, please do the following:</h3>
		</div>
		<div class="row form-group" ng-init="interval = {}; interval.power = 1; interval.selected = 'Hour'; interval.ms = 3600000">
			<div class="col-md-10">
				<h4>First, how often would you want to see new results?</h4>
				<small class="text-muted">Default is every hour.</small>
			</div>
			<div class="col-md-2">
			  <div class="input-group">
		      <input type="number" class="form-control" ng-model="interval.power"/>
		      <div class="input-group-btn">
		        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">{{interval.selected}} <span class="caret"></span></button>
		        <ul class="dropdown-menu pull-right">
		          <li><a href="" ng-click="interval.selected = 'Minute'; interval.ms = 60000">Minute</a></li>
		          <li><a href="" ng-click="interval.selected = 'Hour'; interval.ms = 3600000">Hour</a></li>
		          <li><a href="" ng-click="interval.selected = 'Day'; interval.ms = 86400000">Day</a></li>
		        </ul>
		      </div><!-- /btn-group -->
		    </div>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12 text-right">
				<button class="btn btn-primary" ng-click="saveSetting('interval', calculateDelay(interval))">Save Setting</button>
			</div>
		</div>
	</div>
	<div class="col-md-12">
		<div class="page-header">
			<h3>
				{{resultsCount}} results
				<ng-pluralize count="queryCount" when="{
					'0':'because you haven\'t created a query yet',
					'1':'for 1 Query',
					'other':'for {} Queries'
				}"></ng-pluralize> 
				<small>Next search will be at {{nextTime|date:'mediumDate'}}, {{nextTime|date:'mediumTime'}}</small>
			</h3>
		</div>
		<div ng-cloak ng-show="item.meta.enabled && item.results" ng-repeat="item in list.queries" class="panel panel-default">
			<div class="panel-heading">
				{{item.resultsCount|number}} results from <span ng-repeat="site in item.sites" class="label label-default">{{site.title}}</span> at {{item.created|date:'mediumTime'}}
				<button class="btn btn-default btn-xs pull-right" ng-click="removeResults(item)"><span class="glyphicon glyphicon-trash"></span></button>
			</div>
			<div class="panel-body">
		  	<div ng-cloak ng-repeat="result in item.results" ng-hide="result.results" class="alert alert-warning">
		  		<a class="close" data-dismiss="alert" href="#" aria-hidden="true" ng-click="removeResult(item, result)">&times;</a>
		  		<strong>Sorry</strong>
		  		<p>We did not find any results at <b>{{result.query.site}}</b> for <b>{{result.query.keyword}}</b> in <b>{{result.query.location}}</b>.</p>
		  	</div>
		  	<div ng-cloak ng-repeat="result in item.results" ng-show="result.results" class="list-group">
				  <a href="{{item.link}}" target="_blank" class="list-group-item" ng-repeat="item in result.results">
				    <div class="row">
				    	<div class="col-md-8">
						    <small class="text-muted">{{item.date | date:'shortDate'}}</small>
						    -
						    <span class="text-info">{{item.title[0]}}</span>
						  </div>
						  <div class="col-md-4 text-right">
					    	<span class="label label-info" ng-if="result.query.location.city && result.query.location.state"><i class="fa fa-map-marker"></i> {{result.query.location.city}}, {{result.query.location.state}}</span>
								<span class="label label-info" ng-if="result.query.location.city && !result.query.location.state"><i class="fa fa-map-marker"></i> {{result.query.location.city}}</span>
								<span class="label label-info" ng-if="result.query.location.state && !result.query.location.city"><i class="fa fa-map-marker"></i> {{result.query.location.state}}</span>
					    	<span class="label label-info"><i class="fa fa-search"></i> {{result.query.keyword}}</span>
						  </div>
						</div>
				  </a>
				</div>
			</div>
		</div>
	</div>
</div>
